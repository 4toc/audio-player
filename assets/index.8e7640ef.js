import{c as A,d as y,u as k,o as u,a as _,b as r,t as v,e as O,f as T,r as B,F as D,g as E,h as C,i as h,w as j,j as m,k as q,l as g,m as K}from"./vendor.e1482f96.js";const R=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}};R();var z=[{id:0,src:"src/assets/audio/track1.mp3",title:"Slum Lord",author:"djshanty",duration:"2:11"},{id:1,src:"src/assets/audio/track2.mp3",title:"new song",author:"mixwell",duration:"3:31"},{id:2,src:"src/assets/audio/track3.mp3",title:"Electronic",author:"writer",duration:"1:26"}];const G=A({state:{musicList:[],currentTrack:void 0,currentTrackIndex:0,search:""},getters:{getCurrentTrack(e){return e.currentTrack},getMusicList(e){return e.musicList.filter(s=>{if(s.title.toLowerCase().includes(e.search.toLowerCase())||s.author.toLowerCase().includes(e.search.toLowerCase()))return!0})}},mutations:{setMusicList(e,s){e.musicList=s},setCurrentTrackFromIndex(e,s){e.currentTrackIndex=s,e.currentTrack=e.musicList[s]},setCurrentTrackFromId(e,s){e.currentTrack=e.musicList.find((a,c)=>{if(a.id===s)return e.currentTrackIndex=c,!0})},setSearch(e,s){e.search=s}},actions:{fetchApi(e){e.commit("setMusicList",z),e.commit("setCurrentTrackFromIndex",0)},nextTrack(e){const s=e.state.musicList.length-1===e.state.currentTrackIndex?1:e.state.currentTrackIndex+1;e.commit("setCurrentTrackFromIndex",s)},prevTrack(e){const s=e.state.currentTrackIndex===0?e.state.musicList.length-1:e.state.currentTrackIndex-1;e.commit("setCurrentTrackFromIndex",s)}}});const H={class:"music-list-item__name"},J={class:"music-list-item__title"},Q={class:"music-list-item__author"},U={class:"music-list-item__duration"},W=y({props:{item:null},setup(e){const s=e,a=k(),c=()=>{a.commit("setCurrentTrackFromId",s.item.id)};return(t,o)=>(u(),_("div",{class:"music-list-item",onClick:c},[r("div",H,[r("span",J,v(s.item.title),1),r("span",Q," - "+v(s.item.author),1)]),r("div",U,v(s.item.duration),1)]))}});var X=(e,s)=>{const a=e.__vccOpts||e;for(const[c,t]of s)a[c]=t;return a};const Y=y({components:{MusicListItem:W},setup(){const e=k();return O(async()=>{await e.dispatch("fetchApi")}),{musicList:T(()=>e.getters.getMusicList)}}});function Z(e,s,a,c,t,o){const l=B("music-list-item");return u(),_("div",null,[(u(!0),_(D,null,E(e.musicList,d=>(u(),C(l,{item:d,key:d.id},null,8,["item"]))),128))])}var ee=X(Y,[["render",Z]]),I="/audio-player/assets/next.c948acdd.svg",te="/audio-player/assets/pause.4d3ca827.svg",se="/audio-player/assets/play.ce1ea835.svg",re="/audio-player/assets/volume-off.21a1a38b.svg",ae="/audio-player/assets/volume-on.2d284563.svg";function oe(e){return e.toString().padStart(2,"0")}function ne(e){const s=Math.floor(e/6e4),a=Math.round(e%6e4/1e3);return a===60?`${s+1}:00`:`${s}:${oe(a)}`}const ce={key:0,class:"audio-player"},ie={class:"audio-player__track"},ue={class:"audio-player__name"},le={class:"audio-player__title"},_e=r("div",{class:"audio-player__space"},"-",-1),de={class:"audio-player__author"},me={class:"audio-player__progress-line"},pe=["value"],ve={class:"audio-player__time"},he={class:"audio-player__buttons"},ye=r("img",{src:I,alt:""},null,-1),fe=[ye],ke={key:0,src:te,alt:""},ge={key:1,src:se,alt:""},Te=r("img",{src:I,alt:""},null,-1),Le=[Te],xe=["src"],Ce={class:"audio-player__volume"},Ie={key:0,src:re,alt:""},$e={key:1,src:ae,alt:""},be={class:"audio-player__volume-line"},Se=["value"],Me=y({setup(e){const s=k(),a=T(()=>s.getters.getCurrentTrack);let c=h(0);const t=h();let o=h(!1),l=h(0);const d=h(50),$=T(()=>c.value?ne(c.value*1e3):"00:00");j(a,n=>{c.value=0,l.value=0,o.value=!1});const b=()=>{s.dispatch("prevTrack")},S=()=>{s.dispatch("nextTrack")},M=()=>{var n,i,p,f;o.value=(n=t.value)==null?void 0:n.paused,(i=t.value)!=null&&i.paused?(p=t.value)==null||p.play():(f=t.value)==null||f.pause()},w=()=>{var n,i,p,f,x;((n=t.value)==null?void 0:n.currentTime)&&((i=t.value)==null?void 0:i.duration)&&(c.value=(p=t.value)==null?void 0:p.currentTime,l.value=((f=t.value)==null?void 0:f.currentTime)/((x=t.value)==null?void 0:x.duration)*100)},N=()=>{var n,i;if((n=t.value)!=null&&n.duration){const p=((i=t.value)==null?void 0:i.duration)*(Number(l.value)/100);t.value.currentTime=p}},F=()=>{d.value=d.value===0?50:0,L()},L=()=>{var n;typeof((n=t.value)==null?void 0:n.volume)=="number"&&(t.value.volume=Number(d.value)/100)},P=n=>{const i=n.target;d.value=Number(i.value)},V=n=>{const i=n.target;l.value=Number(i.value)};return(n,i)=>m(a)?(u(),_("div",ce,[r("div",ie,[r("div",ue,[r("div",le,v(m(a).title),1),_e,r("div",de,v(m(a).author),1)]),r("div",me,[r("input",{type:"range",min:"0",max:"100",step:"1",value:m(l),onInput:V,onChange:N},null,40,pe)]),r("div",ve,[r("span",null,v(m($)),1),r("span",null,v(m(a).duration),1)]),r("div",he,[r("div",{class:"audio-player__btn audio-player__btn--prev",onClick:b},fe),r("div",{onClick:M,class:"audio-player__btn"},[m(o)?(u(),_("img",ke)):(u(),_("img",ge))]),r("div",{class:"audio-player__btn",onClick:S},Le)]),r("audio",{ref_key:"player",ref:t,src:m(a).src,preload:"metadata",onTimeupdate:w},null,40,xe)]),r("div",Ce,[r("div",{class:"audio-player__volume-icon",onClick:F},[d.value===0?(u(),_("img",Ie)):(u(),_("img",$e))]),r("div",be,[r("input",{type:"range",min:"0",max:"100",step:"1",value:d.value,onInput:P,onChange:L},null,40,Se)])])])):q("",!0)}});const we={class:"search-track"},Ne=y({setup(e){const s=k(),a=h(""),c=t=>{if(t&&t.target){const o=t.target;a.value=o.value,s.commit("setSearch",o.value)}};return(t,o)=>(u(),_("div",we,[r("input",{type:"text",placeholder:"Search for artist or track",onInput:c},null,32)]))}});const Fe={class:"main-page"},Pe=y({setup(e){return(s,a)=>(u(),_("div",Fe,[g(Me),g(Ne),g(ee)]))}});const Ve=y({setup(e){return(s,a)=>(u(),C(Pe))}});K(Ve).use(G).mount("#app");
